#!/usr/bin/env node

const ts = require('typescript');
const { readFileSync } = require('fs');

const file = process.argv.slice(2).pop();
const source = readFileSync(file, { encoding: 'utf8' });

const result = ts.transpileModule(source, {
    compilerOptions: {
        module: ts.ModuleKind.CommonJS,
        typesRoot: [
            process.env.NODE_PATH + '/@types',
            './node_modules/@types',
        ],
        target: 'ESNext',
    },
});

eval(result.outputText);
